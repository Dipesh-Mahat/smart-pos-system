<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoPOS - Supplier Details</title>
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        /* Header modifications */
        .back-button {
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background-color: #fff;
        }

        .location-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .supplier-card {
            background-color: #f5f5f5;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #ddd;
        }

        .supplier-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .supplier-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #ddd;
        }

        .supplier-name {
            font-size: 20px;
            font-weight: bold;
            color: #333;
        }

        .supplier-category {
            color: #666;
            font-size: 14px;
            background-color: #e9ecef;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .supplier-details {
            margin-top: 12px;
        }

        .detail-row {
            display: flex;
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .detail-label {
            width: 120px;
            color: #666;
            font-weight: 500;
        }

        .detail-value {
            flex: 1;
            color: #333;
        }

        .contact-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 16px;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .contact-button:hover {
            background-color: #0056b3;
        }

        /* Search styles */
        .search-container {
            margin-bottom: 20px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 20px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
        }

        .search-input::placeholder {
            color: #999;
        }

        /* Add styles for no results message */
        .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 16px;
        }

        .profile-icon img {
            width: 24px;
            height: 24px;
            object-fit: contain;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="back-button" onclick="window.location.href='suppliers.html'">
                ‚Üê <span style="font-size: 18px;">Back</span>
            </div>
            <div class="app-title">Supplier Details</div>
            <div class="header-icons">
                <div class="notification-icon">üîî</div>
                <div class="profile-icon"><img src="../images/Profile.png" alt="Profile"></div>
            </div>
        </div>

        <div class="main-content">
            <div class="location-title" id="locationTitle">Location</div>
            
            <!-- Add search container -->
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search suppliers by name, category, or products..." class="search-input">
            </div>

            <div class="supplier-list">
                <!-- Supplier cards will be dynamically populated -->
            </div>
        </div>
    </div>

    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-items">
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text">Dashboard</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text"><a href="store-management.html">Store Management</a></div>
            </div>
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text">Inventory</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text">Transactions</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text">Analytics & Report</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text">Suppliers</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text">Settings</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon-folder">üìÅ</div>
                <div class="menu-text">Add Expense</div>
            </div>
        </div>
    </div>

    <!-- Overlay for menu -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <script src="../js/sidebar.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sample supplier data - in a real app, this would come from a database
            const supplierData = {
                kathmandu: [
                    {
                        name: "Dabur Nepal Pvt. Ltd.",
                        category: "FMCG Products",
                        address: "Balaju Industrial Area, Ward No. 16, Kathmandu",
                        phone: "+977-1-4350195",
                        email: "info@daburnepal.com",
                        mainProducts: ["Chyawanprash", "Real Juice", "Dabur Honey", "Dabur Red Toothpaste", "Vatika Hair Oil"],
                        dealers: ["Nepal Distributors Pvt. Ltd.", "Himalayan Trading House", "Kathmandu Valley Distributors"],
                        established: "1989",
                        coverage: "Central and Eastern Nepal"
                    },
                    {
                        name: "Amul Nepal Distribution",
                        category: "Dairy Products",
                        address: "Tripureshwor-11, Near Thapathali Bridge, Kathmandu",
                        phone: "+977-1-4246000",
                        email: "info@amulnepal.com",
                        mainProducts: ["Amul Milk", "Amul Butter", "Amul Cheese", "Ice Cream", "Amul Ghee"],
                        dealers: ["Krishna Dairy Suppliers", "Nepal Milk Distributors", "Valley Cold Chain"],
                        established: "2005",
                        coverage: "Kathmandu Valley and Major Cities"
                    },
                    {
                        name: "CG Foods Nepal",
                        category: "Food & Beverages",
                        address: "Sanepa-2, Lalitpur, Kathmandu Valley",
                        phone: "+977-1-5522839",
                        email: "info@cgfoods.com.np",
                        mainProducts: ["Wai Wai Noodles", "Rio Juice", "CG Tea", "Dairy Products"],
                        dealers: ["CG Mart", "Valley Distributors", "Nepal Food Network"],
                        established: "1984",
                        coverage: "Nationwide"
                    }
                ],
                lalitpur: [
                    {
                        name: "Himalaya Wellness Nepal",
                        category: "Healthcare Products",
                        address: "Patan Industrial Estate, Ward-4, Lalitpur",
                        phone: "+977-1-5550123",
                        email: "contact@himalayawellness.com",
                        mainProducts: ["Herbal Medicines", "Personal Care", "Baby Care", "Pure Herbs", "Dental Care"],
                        dealers: ["Himalaya Wellness Center", "Natural Care Distributors", "Health First Nepal"],
                        established: "1995",
                        coverage: "All Major Cities"
                    },
                    {
                        name: "Asian Thai Foods Pvt. Ltd.",
                        category: "Food Products",
                        address: "Mahalaxmisthan-15, Lalitpur",
                        phone: "+977-1-5523456",
                        email: "info@asianthai.com.np",
                        mainProducts: ["Rumpum Noodles", "Quick Noodles", "Cup Noodles", "Snacks"],
                        dealers: ["Asian Food Network", "Nepal Snacks Distributors", "Quick Foods Nepal"],
                        established: "1999",
                        coverage: "Pan Nepal"
                    }
                ],
                bhaktapur: [
                    {
                        name: "Nepal Food Corporation",
                        category: "Food Products",
                        address: "Thimi-9, Near Araniko Highway, Bhaktapur",
                        phone: "+977-1-6620789",
                        email: "info@nfc.com.np",
                        mainProducts: ["Rice", "Pulses", "Cooking Oil", "Salt", "Sugar"],
                        dealers: ["Government Fair Price Shops", "District Cooperatives", "Local Retailers"],
                        established: "1974",
                        coverage: "All 77 Districts"
                    },
                    {
                        name: "Bhaktapur Dairy",
                        category: "Dairy Products",
                        address: "Kamalvinayak-3, Bhaktapur",
                        phone: "+977-1-6614567",
                        email: "info@bhaktapurdairy.com.np",
                        mainProducts: ["Fresh Milk", "Yogurt", "Paneer", "Traditional Sweets"],
                        dealers: ["Local Dairy Shops", "Sweet Shops", "Retail Chains"],
                        established: "1992",
                        coverage: "Bhaktapur and surrounding areas"
                    }
                ],
                pokhara: [
                    {
                        name: "Pokhara Food Industries",
                        category: "Food Processing",
                        address: "Industrial Area, Pokhara-15",
                        phone: "+977-61-551234",
                        email: "contact@pokharafood.com.np",
                        mainProducts: ["Processed Foods", "Snacks", "Beverages", "Dairy Products"],
                        dealers: ["Gandaki Distributors", "Lake City Traders", "Western Nepal Network"],
                        established: "2001",
                        coverage: "Western Nepal Region"
                    }
                ],
                biratnagar: [
                    {
                        name: "Eastern Nepal Trading Co.",
                        category: "FMCG Distribution",
                        address: "Main Road, Biratnagar-5",
                        phone: "+977-21-535789",
                        email: "info@entc.com.np",
                        mainProducts: ["Consumer Goods", "Packaged Foods", "Personal Care Items"],
                        dealers: ["Eastern Region Distributors", "Koshi Zone Network", "Border Area Traders"],
                        established: "1998",
                        coverage: "Eastern Nepal Region"
                    }
                ],
                butwal: [
                    {
                        name: "Lumbini Foods & Beverages",
                        category: "Food & Beverages",
                        address: "Industrial Area, Butwal-11",
                        phone: "+977-71-438901",
                        email: "info@lumbinifoods.com.np",
                        mainProducts: ["Bottled Water", "Soft Drinks", "Fruit Juices", "Snack Foods"],
                        dealers: ["Lumbini Zone Distributors", "Terai Belt Network", "Highway Route Suppliers"],
                        established: "2008",
                        coverage: "Lumbini Province"
                    }
                ]
            };

            // Check if supplier data is loaded
            console.log('Supplier data loaded:', supplierData);

            // Add search functionality
            const searchInput = document.getElementById('searchInput');
            let currentSuppliers = [];

            function filterSuppliers(searchTerm) {
                if (!searchTerm) {
                    return currentSuppliers;
                }
                
                searchTerm = searchTerm.toLowerCase();
                return currentSuppliers.filter(supplier => {
                    return (
                        supplier.name.toLowerCase().includes(searchTerm) ||
                        supplier.category.toLowerCase().includes(searchTerm) ||
                        supplier.mainProducts.some(product => 
                            product.toLowerCase().includes(searchTerm)
                        ) ||
                        supplier.dealers.some(dealer => 
                            dealer.toLowerCase().includes(searchTerm)
                        )
                    );
                });
            }

            function displaySuppliers(suppliers) {
                const supplierList = document.querySelector('.supplier-list');
                supplierList.innerHTML = '';

                if (suppliers.length === 0) {
                    supplierList.innerHTML = `
                        <div class="no-results">
                            No suppliers found matching your search criteria.
                        </div>
                    `;
                    return;
                }

                suppliers.forEach(supplier => {
                    const card = document.createElement('div');
                    card.className = 'supplier-card';
                    card.innerHTML = `
                        <div class="supplier-header">
                            <div>
                                <div class="supplier-name">${supplier.name}</div>
                                <div class="supplier-category">${supplier.category}</div>
                            </div>
                        </div>
                        <div class="supplier-details">
                            <div class="detail-row">
                                <div class="detail-label">Address:</div>
                                <div class="detail-value">${supplier.address}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">Phone:</div>
                                <div class="detail-value">${supplier.phone}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">Email:</div>
                                <div class="detail-value">${supplier.email}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">Established:</div>
                                <div class="detail-value">${supplier.established}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">Coverage:</div>
                                <div class="detail-value">${supplier.coverage}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">Main Products:</div>
                                <div class="detail-value">${supplier.mainProducts.join(", ")}</div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-label">Key Dealers:</div>
                                <div class="detail-value">${supplier.dealers.join(", ")}</div>
                            </div>
                        </div>
                        <button class="contact-button">
                            <span>üìû</span>
                            <span>Contact Supplier</span>
                        </button>
                    `;
                    supplierList.appendChild(card);
                });
            }

            // Add search input event listener
            searchInput.addEventListener('input', function(e) {
                const searchTerm = e.target.value;
                const filteredSuppliers = filterSuppliers(searchTerm);
                displaySuppliers(filteredSuppliers);
            });

            // Get location from URL
            const urlParams = new URLSearchParams(window.location.search);
            const location = urlParams.get('location');
            
            console.log('Current location:', location);
            console.log('Available locations:', Object.keys(supplierData));
            
            if (!location) {
                console.error('No location specified in URL');
                document.getElementById('locationTitle').textContent = 'No Location Selected';
                return;
            }
            
            if (!supplierData[location]) {
                console.error('No suppliers found for location:', location);
                document.getElementById('locationTitle').textContent = 'Location Not Found';
                return;
            }
            
            // Update location title
            const locationTitle = document.getElementById('locationTitle');
            locationTitle.textContent = location.charAt(0).toUpperCase() + location.slice(1);
            
            // Set current suppliers and display them
            currentSuppliers = supplierData[location];
            displaySuppliers(currentSuppliers);
        });
    </script>
</body>
</html> 

